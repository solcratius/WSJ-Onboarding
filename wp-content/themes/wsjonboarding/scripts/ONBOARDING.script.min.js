"use strict";var ONBOARDING=ONBOARDING||{};!function(){ONBOARDING.namespace=function(e){var t,n=e.split("."),a=ONBOARDING;for("ONBOARDING"===n[0]&&(n=n.slice(1)),t=0;t<n.length;t+=1)"undefined"==typeof a[n[t]]&&(a[n[t]]={}),a=a[n[t]];return a}}(),ONBOARDING.namespace("controller"),ONBOARDING.namespace("main"),ONBOARDING.namespace("main.landing"),ONBOARDING.namespace("main.nav"),ONBOARDING.controller=function(){function e(){jQuery(window).load(function(){ONBOARDING.main.nav.init(),ONBOARDING.main.landing.init(),ONBOARDING.main.init()})}var t=function(){e();var t=document.documentElement;t.setAttribute("data-useragent",navigator.userAgent)};return{init:t}}(),ONBOARDING.main=function(e){function t(){e("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var t=e(this.hash);if(t=t.length?t:e("[name="+this.hash.slice(1)+"]"),t.length){var n=t.offset().top>0?t.offset().top-120:0;return e("html,body").animate({scrollTop:n},500,"easeInOutCubic"),!1}}}),l.on("click",function(){d.each(function(t){e(this).removeClass("current"),e(this).removeClass("selected")}),s.removeAttr("style"),i.removeClass("strip"),c.find("h2").removeClass("selected"),I=P,ie(0),Y()})}var n,a,o,r,s,i,l,c,d,u,h,p,f,m,v,C,g,b,O,w,k,y,A,N,S,T,I,P,D,B,R,G,q,W,x,U,M=e(window),E=e("html"),L=[],z=[],Q=function(){n=ONBOARDING.main.nav,a=ONBOARDING.main.landing,G=e("h1 a").attr("href"),"/"!=G.substr(G.length-1)&&(G+="/"),U=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,E.hasClass("ie")&&(U=!0),B=j.any(),B||E.addClass("noTouch"),D=H(),o=e("#top-strip"),r=e("#top-strip .util-header"),s=e("#header"),i=e("#header .masthead"),l=e("#back-to-top"),c=e(".navigation"),d=e("#header .button-wrapper a.prod-button"),u=e("#header .content-wrapper"),h=e(".content-wrapper .prod-content"),p=e(".content-wrapper p.landing-intro"),f=e(".content-wrapper .partner-logo"),m=e("a.detail-btn"),v=e("#main-wrapper"),C=e("#strip-nav"),g=e("#strip-nav .button-wrapper"),b=e("#main-wrapper .body-content"),O=e("#main-wrapper .marquee-container .container"),w=e("#main-wrapper .detail-container .prodContent-wrapper"),k=e("#main-wrapper .bottom-nav .button-wrapper .btn-wrapper"),y=e(".button-wrapper .customBtn-wrapper"),A=e("#main-wrapper .service-content"),N=e("#main-wrapper .footer-content"),I=P=e("#header .button-wrapper a.prod-button").length,ie(0),x=A.height()+N.height()+45,E.hasClass("no-svg")&&ce();for(var S=0;P>S;S++){var T=(d.eq(S).attr("href"),d.eq(S).attr("href").substring(G.length).slice(0,-1));if(-1!==T.indexOf("/")){var R=T.split("/"),q=R[R.length-1];T=q}z.push(T)}M.resize(function(){E.removeClass("animate"),Z(),D=H(),Y("resized"),_()}),M.on("scroll",function(e){_()}),M.on("popstate",function(e){this.popStateEventCount++,1!=this.popStateEventCount&&(E.removeClass("animate"),V("browser"),Y("resized"))}),Z(),E.removeClass("animate"),Y("resized"),_(),""!=K()&&V("browser"),t()},H=function(){return E.hasClass("breakpoint-phone")||E.hasClass("breakpoint-small-tablet")?!0:!1},F=function(){return B?!0:!1},j={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return j.Android()||j.BlackBerry()||j.iOS()||j.Opera()||j.Windows()}},_=function(){if(D)Number(M.scrollTop())>=5?(i.addClass("strip"),l.show()):(i.removeClass("strip"),l.hide());else{var e=Number(M.scrollTop());1==R&&W>0&&e>Number(W+100)&&a.setMainContent("btn"),2>R&&(682>T?s.addClass("short"):s.removeClass("short"))}},Y=function(t){if(d.removeAttr("style"),B?(j.iOS()&&y.find(".android").css("display","none"),j.Android()&&y.find(".ios").css("display","none"),d.hasClass("hOver")||d.addClass("hOver")):(y.find(".ios").css("display","none"),y.find(".android").css("display","none")),D){if(d.hasClass("hOver")||d.addClass("hOver"),s.hasClass("detail")&&s.removeClass("detail"),p.css("display","block"),f.css("display","block"),L.length<=0){var n=d.eq(0).offset().top-60;d.each(function(e){L.push(n+90*e)})}if(P>I){var o=d.eq(I);a.slickOn(I);var l=o.find(".button-body").height();o.stop().css("height",l+"px"),o.addClass("current")}h.removeAttr("style"),A.fadeIn(0),N.fadeIn(0),R>=2&&(R=1)}else{if("resized"==t&&c.removeAttr("style"),0>=R&&(r.hasClass("on")&&r.removeClass("on"),d.hasClass("hOver")||d.addClass("hOver"),s.hasClass("detail")&&s.removeClass("detail"),v.removeAttr("style"),h.removeAttr("style"),p.css("display","block"),f.css("display","block"),m.removeAttr("style"),m.removeClass("on"),g.removeClass("on"),d.each(function(t){e(this).removeClass("current"),e(this).removeClass("selected"),D||e(this).removeClass("clicked"),e(this).removeAttr("style")}),O.removeAttr("style"),w.removeAttr("style"),k.removeAttr("style"),A.fadeIn(0),N.fadeIn(0),b.removeAttr("style"),b.fadeOut(0),M.height()<=1200&&(q=M.height(),W=M.height()>682?.5*(M.height()-c.height())+20:90),M.height()>1200&&(q=M.height()-x,W=.5*(M.height()-c.height()-x)+20),s.css("height",q+"px"),c.css("margin-top",W+"px")),1==R){U&&e("body").addClass("noScroll"),r.hasClass("on")&&r.removeClass("on"),s.hasClass("detail")&&s.removeClass("detail"),i.hasClass("strip")||i.addClass("strip"),m.hasClass("on")||m.addClass("on"),h.removeAttr("style"),h.eq(I).css("display","block"),s.css("background-color",d.eq(I).attr("color1-data")),c.find("h2").hasClass("selected")||c.find("h2").addClass("selected"),setTimeout(function(){s.hasClass("trans")&&s.removeClass("trans"),m.removeAttr("style"),b.fadeIn(0)},500),q=M.height();var u=20;"first"==t&&(u=80),M.height()<=1200&&(W=M.height()>682?.5*(M.height()-c.height())+u:90,e("body").scrollTop(0)),M.height()>1200&&(W=.5*(M.height()-c.height()-x)+20+60,e("body").scrollTop(0)),s.css("height",q+"px"),c.css("margin-top",W+"px")}2==R&&(U&&e("body").hasClass("noScroll")&&e("body").removeClass("noScroll"),s.addClass("detail"),r.hasClass("on")||r.addClass("on"),d.each(function(e){e!=I&&d.eq(e).hasClass("selected")&&(d.eq(e).removeClass("selected"),d.eq(e).removeClass("current"))})),R>0&&(B||D||d.removeClass("hOver"),p.css("display","none"),f.css("display","none"),c.find(".button-wrapper").hasClass("selected")||d.eq(I).addClass("selected"))}"resized"==t&&setTimeout(function(){E.addClass("animate")},500)},J=function(e){for(var t=P,n=0;P>n;n++)e.indexOf(z[n])>=0&&(t=n);I=t},K=function(){var e=String(window.location),t="";return t=e.substring(G.length)},V=function(e){e&&"browser"!=e||(J(K()),P>I?(ie(1),a.setProdSelect(I,"hist"),"browser"!=e&&setTimeout(function(){a.setMainContent("auto")},250)):(i.removeClass("strip"),c.find("h2").removeClass("selected"),s.css("background","#e2e7e7"),ie(0)),Y("first")),P>I&&(O.removeAttr("style"),w.removeAttr("style"),k.removeAttr("style"),O.eq(I).fadeIn(0),w.eq(I).fadeIn(0),k.eq(I).css("display","inline-block"),A.fadeIn(0),N.fadeIn(0),n.pageBtnSet())},X=function(e){if(Modernizr.history){var t;String(window.location);t=P>I?"#"+z[I]:G,"back"==e&&(e="",t=G),window.history.pushState(null,"",t),V(e)}else M.scrollTop(0),V(e)},Z=function(){S=M.width(),T=M.height()},$=function(){return S},ee=function(){return T},te=function(){return I},ne=function(e){I=e},ae=function(){return P},oe=function(){return W},re=function(e){return L[e]},se=function(){return R},ie=function(e){R=e},le=function(e){return Math.floor(Math.random()*e)},ce=function(){e("img").each(function(){var t=e(this),n=t.attr("src"),a=n.substr(n.lastIndexOf("."));if(".svg"==a){var o=n.substr(0,n.lastIndexOf("."))+".png";t.attr("src",o)}})},de=function(){var e=utag.data;e.link_name=utag.data["meta.page.site"]+"_"+z[I],e.button_clicked="true",utag.view(utag.data)};return{init:Q,mobileWidthCheck:H,touchEnableCheck:F,isMobile:j,pageReset:Y,getWinW:$,getWinH:ee,getCurProd:te,setCurProd:ne,getTotalProd:ae,getNavTop:oe,getMobileAnchorY:re,getUiState:se,setUiState:ie,setPageLoad:X,rNumGenerator:le,uTagTrigger:de}}(jQuery),ONBOARDING.main.landing=function(e){function t(){p.on("click",function(e){e.preventDefault(),e.stopPropagation(),P("DOWN")}),o.on("click",function(e){e.preventDefault(),e.stopPropagation(),P("UP")}),e(document).keydown(function(e){switch(e.which){case 32:P("SPACE");break;case 37:P("LEFT");break;case 38:P("UP");break;case 39:P("RIGHT");break;case 40:P("DOWN");break;default:return}e.preventDefault()})}var n,a,o,r,s,i,l,c,d,u,h,p,f,m,v,C,g,b,O=e(window),w=(e("html"),!1),k=function(){n=ONBOARDING.main,a=ONBOARDING.main.nav,o=e("#top-strip .util-header"),r=e("#header"),s=e(".navigation"),i=e("#header .masthead"),l=e("#header .button-wrapper a.prod-button"),c=e("#header .content-wrapper"),d=e(".content-wrapper .prod-content"),u=e(".content-wrapper p.landing-intro"),h=e(".content-wrapper .partner-logo"),p=e("a.detail-btn"),f=e("#main-wrapper"),m=e("#main-wrapper .detail-container .prodContent-wrapper"),v=e("#strip-nav"),C=e("#strip-nav .button-wrapper"),g=e(".service-content"),b=e(".footer-content"),t()},y=function(t,a){var o=!1;n.setCurProd(t);var m=l.eq(t);n.getUiState()<=0&&(e("html,body").animate({scrollTop:0},250,"easeInOutQuad"),n.setUiState(1),n.pageReset("first"),m.addClass("hOver"),o=!0,p.addClass("on")),m.addClass("current"),l.each(function(a){a!=t&&(e(this).removeClass("current"),e(this).removeClass("selected"),n.mobileWidthCheck()||(e(this).removeClass("clicked"),e(this).removeClass("hOver")),e(this).removeAttr("style"))}),"strip"==a||n.mobileWidthCheck()||(g.fadeOut(0),b.fadeOut(0)),i.hasClass("strip")||i.addClass("strip"),r.css("background-color",m.attr("color1-data")),s.find("h2").addClass("selected");var v="btn"==a||"hist"==a?500:50;n.mobileWidthCheck()&&(v=10),setTimeout(function(){m.addClass("selected")},v);var C=m.find(".button-body").height()+38;T(t),n.mobileWidthCheck()?(m.stop().css("height",C+"px"),setTimeout(function(){S(t)},250),e("html, body").stop().animate({scrollTop:n.getMobileAnchorY(t)},500,"easeInOutCubic")):(c.addClass("hide"),d.removeAttr("style"),setTimeout(function(){o&&(u.css("display","none"),h.css("display","none")),d.eq(t).css("display","block"),c.removeClass("hide")},100)),f.css("background-color",l.eq(t).attr("color1-data")),"hist"!=a&&n.setPageLoad(a),n.uTagTrigger()},A=function(t){o.hasClass("on")||o.addClass("on");var a=n.getCurProd();n.setUiState(2);var s=n.getNavTop()+70;"auto"==t?e("html,body").animate({scrollTop:s+"px"},350,"easeInQuad",function(){r.css({height:Number(O.height()-s)+"px"}),e("html,body").animate({scrollTop:0},250,"easeOutQuad",function(){e("body").hasClass("noScroll")&&e("body").removeClass("noScroll")}),r.addClass("detail"),l.find(".prod-icon .hOver > span").removeClass("on"),setTimeout(function(){p.css("opacity",0)},150)}):(O.on("DOMMouseScroll, mousewheel, wheel scroll.scrolldisabler",function(e){e.preventDefault()}),e("body").addClass("noScroll"),r.css({height:Number(O.height()-s)+"px"}),e("html,body").animate({scrollTop:0},250,"easeOutQuad"),r.addClass("detail"),l.find(".prod-icon .hOver > span").removeClass("on"),p.css("opacity",0),e("body").removeClass("noScroll"),setTimeout(function(){O.off("DOMMouseScroll, mousewheel, wheel scroll.scrolldisabler")},750)),setTimeout(function(){S(a)},350),l.each(function(e){e!=a&&C.eq(e).removeClass("on")}),C.eq(a).hasClass("on")||C.eq(a).addClass("on")},N=function(){n.setUiState(1),e("html,body").scrollTop(0),r.hasClass("trans")||r.addClass("trans"),n.pageReset()},S=function(e){var t,a=!0,o=1,r=!1;n.mobileWidthCheck()?t=l.eq(e).find(".button-body .content .feature-container .featureBox"):(t=m.eq(e).find(".feature-container .featureBox"),a=!0,o=3,r=!0),t&&t.hasClass("slick-initialized")&&(t.off("beforeChange"),t.slick("unslick")),t&&(t.slick({dots:a,infinite:!0,speed:300,slidesToShow:o,adaptiveHeight:!0,centerMode:!0,arrows:r,swipe:!0,centerPadding:"0"}),t.on("beforeChange",function(e,t){w=!0,setTimeout(function(){w=!1},250)}))},T=function(e){var t;n.mobileWidthCheck()&&(t=l.eq(e).find(".button-body .content .feature-container .featureBox")),t&&t.hasClass("slick-initialized")&&(t.off("beforeChange"),t.slick("unslick"))},I=function(){return w},P=function(e,t){if("DOWN"==e&&1==n.getUiState()&&A("auto"),"UP"==e&&2==n.getUiState()&&N(),("LEFT"==e||"RIGHT"==e)&&n.getUiState()<2&&a.navWithArrow(e,n.getCurProd(),n.getTotalProd()),("LEFT"==e||"RIGHT"==e)&&n.getUiState()>=2&&a.navWithArrow(e,n.getCurProd(),n.getTotalProd(),"strip"),"SPACE"==e&&1==n.getUiState()){var o=d.eq(n.getCurProd()).find("a.main-cta");o.attr("href")&&(o.addClass("clicked"),setTimeout(function(){window.open(o.attr("href"))},175),setTimeout(function(){o.removeClass("clicked")},400))}};return{init:k,setProdSelect:y,setMainContent:A,removeMainContent:N,slickOn:S,slickOff:T,getSlickStatus:I}}(jQuery),ONBOARDING.main.nav=function(e){function t(){i.on("click",function(t){t.preventDefault(),t.stopPropagation();var a=e(this),o=a.find("div").hasClass("arrow-left")?"LEFT":"RIGHT",r=n.getCurProd(),s=n.getTotalProd();a.addClass("clicked"),setTimeout(function(){a.removeClass("clicked")},200),r>=s&&"RIGHT"==o?g(o,s,s):r>=s&&"LEFT"==o?g(o,0,s):g(o,r,s)}),s.on("mouseenter",function(t){t.preventDefault(),t.stopPropagation(),n.getUiState()<=0&&!n.touchEnableCheck()&&!n.mobileWidthCheck()&&s.removeClass("hOver"),n.touchEnableCheck()||n.mobileWidthCheck()||e(this).addClass("hOver")}),s.on("mouseleave",function(t){t.preventDefault(),t.stopPropagation();var a=e(this);n.getUiState()<=0?n.touchEnableCheck()||n.mobileWidthCheck()||s.addClass("hOver"):n.touchEnableCheck()||n.mobileWidthCheck()||a.hasClass("current")||a.removeClass("hOver")}),s.on("click",function(t){t.preventDefault(),t.stopPropagation();var o=e(this);n.touchEnableCheck()||o.addClass("hOver"),n.mobileWidthCheck()||n.getUiState()<2&&(o.addClass("clicked"),setTimeout(function(){o.removeClass("clicked")},250)),!o.hasClass("current")&&n.getUiState()<2&&a.setProdSelect(o.index()-1,"btn"),o.hasClass("current")||2!=n.getUiState()||n.mobileWidthCheck()||(a.setProdSelect(o.index()-1,"strip"),a.setMainContent("strip")),a.slickOn(o.index()-1)}),l.on("click",function(t){t.preventDefault(),t.stopPropagation(),n.mobileWidthCheck()&&(a.setProdSelect(n.getTotalProd(),"btn"),e("html,body").animate({scrollTop:0},500,"easeInOutCubic"),r.removeAttr("style"),n.setUiState(0),n.pageReset(),n.setPageLoad("back"))}),c.on("mouseenter",function(t){e(this).addClass("clicked")}),c.on("mouseleave",function(t){e(this).removeClass("clicked")}),c.on("click",function(t){t.preventDefault(),t.stopPropagation();var n=e(this);window.open(n.attr("href")),n.removeClass("clicked")}),d.on("click",function(t){return t.preventDefault(),t.stopPropagation(),a.getSlickStatus()?void 0:(window.open(e(this).attr("href")),!1)}),f.on("click",function(t){t.preventDefault(),t.stopPropagation();var n=v.offset().top-m.offset().top;e("html,body").animate({scrollTop:n},500,"easeInOutCubic")})}var n,a,o,r,s,i,l,c,d,u,h,p,f,m,v,C=function(){n=ONBOARDING.main,a=ONBOARDING.main.landing,o=e("#header"),r=e(".navigation"),s=e("#header .button-wrapper a.prod-button"),i=e("#header .button-wrapper a.prod-nav"),l=e("#header .button-wrapper a.prod-button .button-body .topBox"),c=e(".content-wrapper .prod-content .button-wrapper a.main-cta"),d=e("#header .button-wrapper button"),u=e("#header .button-wrapper button.item"),h=e("#strip-nav"),p=e("#main-wrapper"),f=e("#main-wrapper .marquee-container .headline .detailAnchor"),m=e("#main-wrapper .marquee-container"),v=e("#main-wrapper .detail-container"),t()},g=function(e,t,o,r){"LEFT"==e?0>=t?t=o-1:t-=1:t>=o-1?t=0:t+=1;var s="strip"==r?r:"arrow";a.setProdSelect(t,s),2==n.getUiState()&&(a.setProdSelect(t,s),a.setMainContent("strip"))},b=function(){e("#main-wrapper .bottom-nav .button-wrapper .customBtn-wrapper button").each(function(t){e(this).off("click"),e(this).on("click",function(t){return t.preventDefault(),t.stopPropagation(),window.open(e(this).attr("href")),!1})}),u.on("click",function(t){return t.stopPropagation(),t.preventDefault(),a.getSlickStatus()?void 0:(window.open(e(this).attr("href")),!1)})};return{init:C,navWithArrow:g,pageBtnSet:b}}(jQuery),jQuery(document).ready(function(){ONBOARDING.controller.init()});